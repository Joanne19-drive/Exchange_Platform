{%extends "base.html"%}
{%block content%}

<div class="lbody d-flex flex-column">
    <div class="container">
    <div class="lbar d-flex align-items-center">
    <div class="lforeign_list d-flex justify-content-around text-center ">
    {% for key, val in univ_dict.items %}
    <a href="#{{ key }}" class="lbar_alpha">{{ key }}</a>
    {% endfor %}
    </div>
    <button class="light-button lgbtn-gray" onclick="location.href='{% url "foreign:univ_search" %}'">학교 추가</button>
    </div>
    <div>
        {% for key, val in univ_dict.items %}
        <div class="lgroup ">
                <div id="{{ key }}" class="lalpha">{{ key }}</div>
                <div class="lforeign_name ">
                {% for univ in val %}
                    <a href="{% url "foreign:wiki" univ.pk%}">{{univ.away_name}}</a>
                {% endfor %}
                </div>
            <br>
        </div>
        {% endfor %}

    </div>
</div>
</div>
<script>
function list(startAlpha){
    var parent = document.querySelector('.lforeign_list')
    var foreign_list = document.querySelectorAll(`.lforeign_list .lbar_alpha`);
    var startnum =startAlpha.charCodeAt(0);
    
    for(i=0;i<foreign_list.length;i++){
        for(j=startnum ; j<foreign_list[i].innerHTML.charCodeAt(0) ; j++){
            var newSpan = document.createElement('span');
            newSpan.textContent = String.fromCharCode(j);
            parent.insertBefore(newSpan, foreign_list[i]);
        }
        startAlpha = foreign_list[i].innerHTML.charCodeAt(0)+1;
        startnum =startAlpha
        
    }
    for(i=foreign_list[foreign_list.length-1].innerHTML.charCodeAt(0)+1;i<'Z'.charCodeAt(0)+1;i++){
        var newSpan = document.createElement('span');
        newSpan.textContent = String.fromCharCode(i);
        parent.insertBefore(newSpan, null);
    }
    
    
}
list('A');
</script>
{%endblock%}